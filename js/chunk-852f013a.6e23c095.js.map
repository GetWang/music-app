{"version":3,"sources":["webpack:///./src/base/slider/slider.vue?1c3f","webpack:///./src/components/recommend/recommend.vue?99ff","webpack:///./src/components/recommend/recommend.vue?8a24","webpack:///./src/base/slider/slider.vue?a51c","webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?0328","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?09d1","webpack:///./src/components/recommend/recommend.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_b7f3b038_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_b7f3b038_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_id_571edae3_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_id_571edae3_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","data","discList","recommends","_l","item","href","linkUrl","src","picUrl","on","load","loadImage","_e","_v","click","$event","selectItem","directives","name","rawName","value","expression","width","height","domProps","innerHTML","_s","creator","dissname","length","staticRenderFns","slidervue_type_template_id_b7f3b038_scoped_true_render","_t","index","class","active","currentPageIndex","slidervue_type_template_id_b7f3b038_scoped_true_staticRenderFns","slidervue_type_script_lang_js_","props","loop","type","Boolean","default","autoPlay","interval","Number","dots","mounted","_this","setTimeout","_setSliderWidth","_initDots","_initSlider","_play","window","addEventListener","slider","refresh","destroyed","clearTimeout","timer","methods","isResize","sliderWidth","$refs","clientWidth","children","sliderGroup","i","child","style","Object","dom","_this2","bscroll_esm","scrollX","scrollY","momentum","snap","snapLoop","snapThreshold","snapSpeed","pageIndex","getCurrentPage","pageX","Array","_this3","goToPage","slider_slidervue_type_script_lang_js_","component","componentNormalizer","recommendvue_type_script_lang_js_","created","_getRecommend","_getDiscList","mixins","mixin","objectSpread","handlePlaylist","playlist","bottom","recommend","scroll","$router","push","path","concat","dissid","setDisc","then","res","code","config","list","checkloaded","vuex_esm","components","Slider","Scroll","scroll_scroll","Loading","loading","recommend_recommendvue_type_script_lang_js_","recommend_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-852f013a.6e23c095.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=b7f3b038&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=b7f3b038&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=571edae3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&id=571edae3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{staticClass:\"slider-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{staticClass:\"needsclick\",attrs:{\"src\":item.picUrl},on:{\"load\":_vm.loadImage}})])])}),0)],1):_vm._e(),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_c('ul',_vm._l((_vm.discList),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}),0)])]),(!_vm.discList.length)?_c('div',{staticClass:\"loading-container\"},[_c('loading')],1):_vm._e()]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{staticClass:\"dot\",class:{ active: _vm.currentPageIndex === index }})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"slider\" ref=\"slider\">\n    <div class=\"slider-group\" ref=\"sliderGroup\">\n      <slot></slot>\n    </div>\n    <div class=\"dots\">\n      <span class=\"dot\" v-for=\"(item, index) in dots\"\n            :class=\"{ active: currentPageIndex === index }\">\n      </span>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll'\n  import { addClass } from 'common/js/dom'\n\n  export default {\n    props: {\n      loop: {\n        type: Boolean,\n        default: true\n      },\n      autoPlay: {\n        type: Boolean,\n        default: true\n      },\n      interval: {\n        type: Number,\n        default: 4000\n      }\n    },\n    data() {\n      return {\n        dots: [],\n        currentPageIndex: 0\n      }\n    },\n    mounted() {\n      setTimeout(() => {\n        this._setSliderWidth()\n        this._initDots()\n        this._initSlider()\n        if (this.autoPlay) {\n          this._play()\n        }\n      }, 20)\n      /* 为window注册resize事件处理函数，当窗口大小改变时，重新设置轮播图宽度，刷新BScroll实例 */\n      window.addEventListener('resize', () => {\n        if (!this.slider) {\n          return\n        }\n        this._setSliderWidth(true)\n        this.slider.refresh()\n      })\n    },\n    destroyed() {\n      clearTimeout(this.timer)\n    },\n    methods: {\n      /* 初始化轮播图片的宽度及其父容器的宽度 */\n      _setSliderWidth(isResize) {\n        let width = 0\n        let sliderWidth = this.$refs.slider.clientWidth\n        this.children = this.$refs.sliderGroup.children\n        for (let i = 0; i < this.children.length; i++) {\n          let child = this.children[i]\n          child.style.width = sliderWidth + 'px'\n          addClass(child, 'slider-item')\n          width += sliderWidth\n        }\n        if (this.loop && !isResize) {\n          width += 2 * sliderWidth\n        }\n        this.$refs.sliderGroup.style.width = width + 'px'\n      },\n      /* 初始化轮播图的一些参数，并注册scrollEnd事件处理函数 */\n      _initSlider() {\n        this.slider = new BScroll(this.$refs.slider, {\n          scrollX: true,\n          scrollY: false,\n          momentum: false,\n          snap: true,\n          snapLoop: this.loop,\n          snapThreshold: 0.3,\n          snapSpeed: 400\n        })\n        this.slider.on('scrollEnd', () => {\n          let pageIndex = this.slider.getCurrentPage().pageX\n          if (this.loop) {\n            pageIndex -= 1\n          }\n          this.currentPageIndex = pageIndex\n          if (this.autoPlay) {\n            clearTimeout(this.timer)  // 清除超时调用标志，以免和手动切换轮播图发生冲突\n            this._play()\n          }\n        })\n      },\n      /* 初始化轮播按钮 */\n      _initDots() {\n        this.dots = new Array(this.children.length)\n      },\n      /* 播放下一张轮播图 */\n      _play() {\n        let pageIndex = this.currentPageIndex + 1\n        if (this.loop) {\n          pageIndex += 1\n        }\n        this.timer = setTimeout(() => {\n          this.slider.goToPage(pageIndex, 0, 400)\n        }, this.interval)\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import '~common/stylus/variable'\n\n  .slider\n    min-height: 1px\n    .slider-group\n      position: relative\n      overflow: hidden\n      white-space: nowrap\n      .slider-item\n        float: left\n        box-sizing: border-box\n        overflow: hidden\n        text-align: center\n        a\n          display: block\n          width: 100%\n          overflow: hidden\n          text-decoration: none\n          img\n            display: block\n            width: 100%\n    .dots\n      position: absolute\n      left: 0\n      right: 0\n      bottom: 12px\n      text-align: center\n      font-size: 0\n      .dot\n        display: inline-block\n        width: 8px\n        height: 8px\n        margin: 0 4px\n        border-radius: 50%\n        background: $color-text-l\n        &.active\n          width: 20px\n          border-radius: 5px\n          background: $color-text-ll\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./slider.vue?vue&type=template&id=b7f3b038&scoped=true&\"\nimport script from \"./slider.vue?vue&type=script&lang=js&\"\nexport * from \"./slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./slider.vue?vue&type=style&index=0&id=b7f3b038&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7f3b038\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"recommend\" ref=\"recommend\">\n    <scroll ref=\"scroll\" class=\"recommend-content\" :data=\"discList\">\n      <div>\n        <div v-if=\"recommends.length\" class=\"slider-wrapper\">\n          <slider>\n            <div v-for=\"item in recommends\">\n              <a :href=\"item.linkUrl\">\n                <img class=\"needsclick\" :src=\"item.picUrl\" @load=\"loadImage\">\n              </a>\n            </div>\n          </slider>\n        </div>\n        <div class=\"recommend-list\">\n          <h1 class=\"list-title\">热门歌单推荐</h1>\n          <ul>\n            <li v-for=\"item in discList\" class=\"item\" @click=\"selectItem(item)\">\n              <div class=\"icon\">\n                <img v-lazy=\"item.imgurl\" width=\"60\" height=\"60\">\n              </div>\n              <div class=\"text\">\n                <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\n                <p class=\"desc\" v-html=\"item.dissname\"></p>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"loading-container\" v-if=\"!discList.length\">\n        <loading></loading>\n      </div>\n    </scroll>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import Slider from 'base/slider/slider'\n  import Scroll from 'base/scroll/scroll'\n  import Loading from 'base/loading/loading'\n  import { getRecommend, getDiscList } from 'api/recommend'\n  import { ERR_OK } from 'api/config'\n  import { playlistMixin } from 'common/js/mixin'\n  import { mapMutations } from 'vuex'\n\n  export default {\n    data() {\n      return {\n        recommends: [],\n        discList: []\n      }\n    },\n    created() {\n      this._getRecommend()\n      this._getDiscList()\n    },\n    mixins: [playlistMixin],\n    methods: {\n      /* 这里使用mixin根据播放器的播放列表解决推荐页面底部与mini播放器不适配的问题 */\n      handlePlaylist(playlist) {\n        const bottom = playlist.length > 0 ? '60px' : ''\n        this.$refs.recommend.style.bottom = bottom\n        this.$refs.scroll.refresh()\n      },\n      /* 切换到相应的歌单详情页 */\n      selectItem(item) {\n        this.$router.push({\n          path: `/recommend/${item.dissid}`\n        })\n        this.setDisc(item)\n      },\n      _getRecommend() {\n        getRecommend().then((res) => {\n          if (res.code === ERR_OK) {\n            this.recommends = res.data.slider\n          }\n        })\n      },\n      _getDiscList() {\n        getDiscList().then((res) => {       // res是一个实际请求的歌单数据的对象\n          if (res.code === ERR_OK) {\n            this.discList = res.data.list   // res.data.list是一个实际请求的歌单数据列表的数组\n          }\n        })\n      },\n      loadImage() {\n        if (!this.checkloaded) {\n          this.checkloaded = true\n          this.$refs.scroll.refresh()\n        }\n      },\n      ...mapMutations({\n        setDisc: 'SET_DISC'\n      })\n    },\n    components: {\n      Slider,\n      Scroll,\n      Loading\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import '~common/stylus/variable'\n\n  .recommend\n    position: fixed\n    top: 88px\n    bottom: 0\n    width: 100%\n    .recommend-content\n      height: 100%\n      overflow: hidden\n      .slider-wrapper\n        position: relative\n        width: 100%\n        overflow: hidden\n      .recommend-list\n        .list-title\n          height: 65px\n          line-height: 65px\n          text-align: center\n          font-size: $font-size-medium\n          color: $color-theme\n        .item\n          display: flex\n          box-sizing: border-box\n          align-items: center\n          padding: 0 20px 20px 20px\n          .icon\n            flex: 0 0 60px\n            width: 60px\n            padding-right: 20px\n          .text\n            display: flex\n            flex: 1\n            flex-direction: column\n            justify-content: center\n            overflow: hidden\n            font-size: $font-size-medium\n            line-height: 20px\n            .name\n              margin-bottom: 10px\n              color: $color-text\n            .desc\n              color: $color-text-d\n      .loading-container\n        position: absolute\n        width: 100%\n        top: 50%\n        transform: translateY(-50%)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recommend.vue?vue&type=template&id=571edae3&scoped=true&\"\nimport script from \"./recommend.vue?vue&type=script&lang=js&\"\nexport * from \"./recommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommend.vue?vue&type=style&index=0&id=571edae3&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"571edae3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}